<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mini Activity Browser</title>
<style>
  body { font-family: sans-serif; margin: 10px; }
  input { width: 70%; padding: 5px; }
  button { padding: 5px 10px; margin-left: 5px; }
  iframe { width: 100%; height: 500px; margin-top: 10px; border: 1px solid #ccc; }
  #status { margin-top: 5px; color: #555; }
</style>
</head>
<body>

<h2>Mini Activity Browser</h2>
<input id="url" placeholder="Enter a URL (must allow iframes)" />
<button id="go">Go</button>
<div id="status">Tip: Google / DuckDuckGo wonâ€™t load in the iframe. They will open in a new tab.</div>
<iframe id="frame"></iframe>

<script>
const urlInput = document.getElementById('url');
const frame = document.getElementById('frame');
const goButton = document.getElementById('go');
const status = document.getElementById('status');

goButton.onclick = () => {
  let url = urlInput.value.trim();
  if (!url) return;

  // Add http if missing
  if (!url.startsWith('http')) url = 'https://' + url;

  // Try to set iframe src
  frame.src = url;

  // Detect if iframe fails to load (common with Google etc.)
  frame.onload = () => {
    try {
      const doc = frame.contentDocument || frame.contentWindow.document;
      // Accessing forbidden iframe will throw
      doc.body;
    } catch(e) {
      // Fallback: open in new tab
      frame.src = '';
      window.open(url, '_blank');
      status.textContent = "Page blocked in iframe, opened in a new tab.";
      return;
    }
    status.textContent = "Loaded in iframe!";
  }
};
</script>

</body>
</html>
